{"componentChunkName":"component---src-components-post-post-page-tsx","path":"/Gatsby-build-error-document-is-not-defined-해결방법/","result":{"data":{"markdownRemark":{"html":"<h1 id=\"1-서론\" style=\"position:relative;\"><a href=\"#1-%EC%84%9C%EB%A1%A0\" aria-label=\"1 서론 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 서론</h1>\n<p>최근에 tistory에서 Gatsby로 블로그를 옮기면서 처음으로 gatsby를 사용해서 블로그를 개발하기 시작했는 데 여러 가지 난관이 있었다. 그 중 가장 짜증났던 상황이 바로 \"document is not defined\" 빌드 오류였다. 나와 같은 문제에 직면한 사람들을 위해 내가 찾은 해결 방법을 공유하고자 한다.</p>\n<h1 id=\"2-해결방법\" style=\"position:relative;\"><a href=\"#2-%ED%95%B4%EA%B2%B0%EB%B0%A9%EB%B2%95\" aria-label=\"2 해결방법 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 해결방법</h1>\n<p>의외로 해결방법은 매우 간단하다. 나는 document 변수를 화면의 scroll top을 가져오는 데 사용했다. 물론 브라우저 환경에서 당연히 document 변수는 존재하겠지만, 빌드 시에는 이 변수의 존재 여부를 알 수 없기 때문에 나오는 오류라고 생각했고, 따라서 <strong>document 변수가 존재하는 지</strong>, 그리고 <strong>document의 타입이 정의되어 있는 지</strong> 여부를 예외처리로 확인했다.</p>\n<p>코드로 보면 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> window <span class=\"token operator\">===</span> <span class=\"token string\">\"undefined\"</span> <span class=\"token operator\">||</span> <span class=\"token operator\">!</span>window<span class=\"token punctuation\">.</span>document<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","id":"278e1fc0-1863-58d8-8954-2740a1329d53","tableOfContents":"<ul>\n<li><a href=\"#1-%EC%84%9C%EB%A1%A0\">1. 서론</a></li>\n<li><a href=\"#2-%ED%95%B4%EA%B2%B0%EB%B0%A9%EB%B2%95\">2. 해결방법</a></li>\n</ul>","frontmatter":{"author":"millo","description":"Gatsby build error \"document is not defined\" 해결하기.","category":"gatsby","released_at":"2021-02-27","updated_at":null,"tags":["Gatsby","build error","document is not defined"],"title":"Gatsby build error \"document is not defined\" 해결 방법","lang":"ko","series":"none","translation":"/Troubleshooting-Gatsby-build-error-document-is-not-defined","image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdmIXg//xAAYEAADAQEAAAAAAAAAAAAAAAABERMAI//aAAgBAQABBQI0p1wa/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGBAAAwEBAAAAAAAAAAAAAAAAACExAjL/2gAIAQEABj8CXJMjp//EABkQAQADAQEAAAAAAAAAAAAAAAEAESFRwf/aAAgBAQABPyHBjEuvrGjUOCf/2gAMAwEAAgADAAAAEHgP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBABAAEEAwAAAAAAAAAAAAAAASEAETFBgZGh/9oACAEBAAE/EM13hN27zUAmiVz5TQqylw5r/9k=","aspectRatio":2.380952380952381,"src":"/static/d989ec3d70e4182500695075b78d3a8a/14b42/gatsby.jpg","srcSet":"/static/d989ec3d70e4182500695075b78d3a8a/f836f/gatsby.jpg 200w,\n/static/d989ec3d70e4182500695075b78d3a8a/2244e/gatsby.jpg 400w,\n/static/d989ec3d70e4182500695075b78d3a8a/14b42/gatsby.jpg 800w,\n/static/d989ec3d70e4182500695075b78d3a8a/47498/gatsby.jpg 1200w,\n/static/d989ec3d70e4182500695075b78d3a8a/0e329/gatsby.jpg 1600w,\n/static/d989ec3d70e4182500695075b78d3a8a/45f29/gatsby.jpg 2128w","sizes":"(max-width: 800px) 100vw, 800px"}}}},"fields":{"slug":"/Gatsby-build-error-document-is-not-defined-해결방법/"}},"site":{"siteMetadata":{"siteUrl":"https://millo-L.github.io"}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"title":"docker-copmose node.js, mysql 연동","lang":"ko"},"fields":{"slug":"/docket-compose-nodejs-mysql-연동/"}}},{"node":{"frontmatter":{"title":"JavaScript Callback 지옥 벗어나기","lang":"ko"},"fields":{"slug":"/JavaScript-Callback-지옥-벗어나기/"}}},{"node":{"frontmatter":{"title":"Jenkins in Docker(Ubuntu18.04)","lang":"ko"},"fields":{"slug":"/Jenkins-in-Docker-Ubuntu18.04/"}}},{"node":{"frontmatter":{"title":"Gatsby build error \"document is not defined\" 해결 방법","lang":"ko"},"fields":{"slug":"/Gatsby-build-error-document-is-not-defined-해결방법/"}}},{"node":{"frontmatter":{"title":"Troubleshooting Gatsby build error \"document is not defined\"","lang":"en"},"fields":{"slug":"/Troubleshooting-Gatsby-build-error-document-is-not-defined/"}}}]}},"pageContext":{"slug":"/Gatsby-build-error-document-is-not-defined-해결방법/","series":"none"}},"staticQueryHashes":["1608878238","3469517283","764694655"]}