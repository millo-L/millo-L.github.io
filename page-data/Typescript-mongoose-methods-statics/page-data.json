{"componentChunkName":"component---src-components-post-post-template-tsx","path":"/Typescript-mongoose-methods-statics/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"1-introduction\" style=\"position:relative;\"><a href=\"#1-introduction\" aria-label=\"1 introduction permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Introduction</h2>\n<p>In a typescript environment, the mongoose module was used to use methods and statics, and in nodejs, the part that was running immediately became a bit more challenging in typescript, so the posting was written. Typescript itself is so sensitive to data types that it feels convenient in code review and collaboration, but sometimes it seems to be this uncomfortable.</p>\n<h2 id=\"2-code\" style=\"position:relative;\"><a href=\"#2-code\" aria-label=\"2 code permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Code</h2>\n<h3 id=\"2-1-whole-code\" style=\"position:relative;\"><a href=\"#2-1-whole-code\" aria-label=\"2 1 whole code permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-1. Whole Code</h3>\n<p>Let's look at the whole code first. <br />\nOverall, a model containing the variables and methods and statistics used by mongodb's model, User, is specified through the interface. Let's proceed with the details step by step below.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token comment\">// user.ts</span>\n\n<span class=\"token keyword\">import</span> mongoose<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Schema<span class=\"token punctuation\">,</span> Document<span class=\"token punctuation\">,</span> Model <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"mongoose\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> bcrypt <span class=\"token keyword\">from</span> <span class=\"token string\">\"bcrypt\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">IUser</span> <span class=\"token punctuation\">{</span>\n    username<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n    hashedPassword<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">IUserDocument</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">IUser</span><span class=\"token punctuation\">,</span> Document <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">setPassword</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>password<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n    <span class=\"token function-variable function\">checkPassword</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>password<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">boolean</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">IUserModel</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Model<span class=\"token operator\">&lt;</span>IUserDocument<span class=\"token operator\">></span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">findByUsername</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>username<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span>IUserDocument<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> UserSchema<span class=\"token operator\">:</span> Schema<span class=\"token operator\">&lt;</span>IUserDocument<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Schema</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    username<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span> required<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    hashedPassword<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span> required<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nUserSchema<span class=\"token punctuation\">.</span>methods<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">setPassword</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>password<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> hash <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> bcrypt<span class=\"token punctuation\">.</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span>password<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>hashedPassword <span class=\"token operator\">=</span> hash<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nUserSchema<span class=\"token punctuation\">.</span>methods<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">checkPassword</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>password<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> bcrypt<span class=\"token punctuation\">.</span><span class=\"token function\">compare</span><span class=\"token punctuation\">(</span>password<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>hashedPassword<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nUserSchema<span class=\"token punctuation\">.</span>statics<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">findByUsername</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>username<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">findOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> username <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> User <span class=\"token operator\">=</span> mongoose<span class=\"token punctuation\">.</span><span class=\"token generic-function\"><span class=\"token function\">model</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>IUserDocument<span class=\"token punctuation\">,</span> IUserModel<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"User\"</span><span class=\"token punctuation\">,</span> UserSchema<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> User<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"2-2-variable-interface-to-use-in-the-model\" style=\"position:relative;\"><a href=\"#2-2-variable-interface-to-use-in-the-model\" aria-label=\"2 2 variable interface to use in the model permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-2. Variable interface to use in the model</h3>\n<p>The following interface specifies the name and data type of variables to be used in the User model.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">IUser</span> <span class=\"token punctuation\">{</span>\n    username<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n    hashedPassword<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"-wait-the-difference-between-methods-and-statics\" style=\"position:relative;\"><a href=\"#-wait-the-difference-between-methods-and-statics\" aria-label=\" wait the difference between methods and statics permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[ğŸ‘‹ Wait] The difference between methods and statics</h3>\n<p>When methods are used, <span style=\"color:red\">'this' is the object called method</span>, and when using statistics, <span style=\"color:red\">'this' is the model itself</span>, regardless of the object called statistics\".</p>\n<h4>methods</h4>\n<p>Thus, in the above code, setPassword and checkPassword can set a password for each object or determine whether it matches the password for that object.</p>\n<h4>statics</h4>\n<p>FindByUsername, on the other hand, can find and return the user name within the model.</p>\n<h3 id=\"2-3-methods-interface-to-use-in-the-model\" style=\"position:relative;\"><a href=\"#2-3-methods-interface-to-use-in-the-model\" aria-label=\"2 3 methods interface to use in the model permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-3. Methods interface to use in the model</h3>\n<p>The interface below is used to specify the names and data types of methods in addition to the variables to be used in the User model. <br />\nHowever, the difference from the interface above is that not only IUser but also <strong>Document</strong>, Mongoose's class, is extended. <br />\nIt then creates a mongoose schema based on the interface.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">IUserDocument</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">IUser</span><span class=\"token punctuation\">,</span> Document <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">setPassword</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>password<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n    <span class=\"token function-variable function\">checkPassword</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>password<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">boolean</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> UserSchema<span class=\"token operator\">:</span> Schema<span class=\"token operator\">&lt;</span>IUserDocument<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Schema</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    username<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span> required<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    hashedPassword<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span> required<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nUserSchema<span class=\"token punctuation\">.</span>methods<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">setPassword</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>password<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> hash <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> bcrypt<span class=\"token punctuation\">.</span><span class=\"token function\">hash</span><span class=\"token punctuation\">(</span>password<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>hashedPassword <span class=\"token operator\">=</span> hash<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nUserSchema<span class=\"token punctuation\">.</span>methods<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">checkPassword</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>password<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> bcrypt<span class=\"token punctuation\">.</span><span class=\"token function\">compare</span><span class=\"token punctuation\">(</span>password<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>hashedPassword<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"2-4-statics-interface-for-model-use\" style=\"position:relative;\"><a href=\"#2-4-statics-interface-for-model-use\" aria-label=\"2 4 statics interface for model use permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-4. Statics interface for model use</h3>\n<p>The interface below extends the interface, including the above variables, methods, and the document class of mongoose, in the form of a model, and specifies the statistics to be used in the User model.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">IUserModel</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Model<span class=\"token operator\">&lt;</span>IUserDocument<span class=\"token operator\">></span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">findByUsername</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>username<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span>IUserDocument<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nUserSchema<span class=\"token punctuation\">.</span>statics<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">findByUsername</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>username<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">findOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> username <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"2-5-user-model-declaration\" style=\"position:relative;\"><a href=\"#2-5-user-model-declaration\" aria-label=\"2 5 user model declaration permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-5. User Model Declaration</h3>\n<p>The user model is declared based on the interface including the IUserDocument (the interface of the variables + methods) and statics created above. The above variables, methods, and statics functions are all available when the model is then imported.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ts line-numbers\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> User <span class=\"token operator\">=</span> mongoose<span class=\"token punctuation\">.</span><span class=\"token generic-function\"><span class=\"token function\">model</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>IUserDocument<span class=\"token punctuation\">,</span> IUserModel<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"User\"</span><span class=\"token punctuation\">,</span> UserSchema<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> User<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#1-introduction\">1. Introduction</a></p>\n</li>\n<li>\n<p><a href=\"#2-code\">2. Code</a></p>\n<ul>\n<li><a href=\"#2-1-whole-code\">2-1. Whole Code</a></li>\n<li><a href=\"#2-2-variable-interface-to-use-in-the-model\">2-2. Variable interface to use in the model</a></li>\n<li><a href=\"#-wait-the-difference-between-methods-and-statics\">[ğŸ‘‹ Wait] The difference between methods and statics</a></li>\n<li><a href=\"#2-3-methods-interface-to-use-in-the-model\">2-3. Methods interface to use in the model</a></li>\n<li><a href=\"#2-4-statics-interface-for-model-use\">2-4. Statics interface for model use</a></li>\n<li><a href=\"#2-5-user-model-declaration\">2-5. User Model Declaration</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"author":"millo","category":"typescript","description":"Mongoose's methods and statics in a typescript environment.","image":{"childImageSharp":{"fixed":{"src":"/static/a02102f27ded84e8f475f22fcbf0a56a/151a9/typescript.png"}}},"lang":"en","released_at":"2021-03-03 11:30","series":"none","tags":["typescript","nodejs","mongodb","mongoose","statics","methods"],"title":"[Typescript] mongoose methods, statics","translation":"/Typescript-mongodb-method-statics-ì‚¬ìš©í•˜ê¸°/","updated_at":null},"fields":{"slug":"/Typescript-mongoose-methods-statics/"}},"allMarkdownRemark":{"nodes":[{"frontmatter":{"lang":"ko","title":"[Docker] docker-compose (node.js, mysql) ì‹¤í–‰ ìˆœì„œ ë™ê¸°í™”"},"fields":{"slug":"/docker-compose-nodejs-mysql-ì‹¤í–‰-ìˆœì„œ-ë™ê¸°í™”/"}},{"frontmatter":{"lang":"ko","title":"[JavaScript] Callback ì§€ì˜¥ ë²—ì–´ë‚˜ê¸°"},"fields":{"slug":"/JavaScript-Callback-ì§€ì˜¥-ë²—ì–´ë‚˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Docker] Jenkins in Docker(Ubuntu18.04)"},"fields":{"slug":"/Jenkins-in-Docker-Ubuntu1804/"}},{"frontmatter":{"lang":"ko","title":"[Go] êµ¬ì¡°ì²´ë¥¼ Classì²˜ëŸ¼ ì‚¬ìš©í•˜ê¸°"},"fields":{"slug":"/Goì–¸ì–´ì—ì„œ-êµ¬ì¡°ì²´ë¥¼-Classì²˜ëŸ¼-ì‚¬ìš©í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Raspberry pi] OpenCV4 ì„¤ì¹˜í•˜ê¸°"},"fields":{"slug":"/Raspberry-piì—-OpenCV4-ì„¤ì¹˜í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Python] ê°„ë‹¨í•œ Anaconda ê°€ìƒ í™˜ê²½ ê´€ë¦¬í•˜ê¸°"},"fields":{"slug":"/Python-ê°„ë‹¨í•œ-Anaconda-ê°€ìƒ-í™˜ê²½-ê´€ë¦¬í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Python] TCP image socket êµ¬í˜„í•˜ê¸°(Server, Client)"},"fields":{"slug":"/Python-TCP-image-socket-êµ¬í˜„í•˜ê¸°-Server-Client/"}},{"frontmatter":{"lang":"ko","title":"[Node.js] express ì‚¬ìš©í•˜ê¸°"},"fields":{"slug":"/Nodejs-express-ì‚¬ìš©í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Node.js] express router ì‚¬ìš©í•˜ê¸°"},"fields":{"slug":"/Nodejs-express-router-ì‚¬ìš©í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Raspberry pi] ë¶€íŒ… ì‹œ í”„ë¡œê·¸ë¨ ìë™ ì‹¤í–‰í•˜ê¸°"},"fields":{"slug":"/Raspberry-pi-ë¶€íŒ…ì‹œ-í”„ë¡œê·¸ë¨-ìë™-ì‹¤í–‰í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Node.js] moment ì‚¬ìš©í•˜ê¸°"},"fields":{"slug":"/Nodejs-moment-ì‚¬ìš©í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Docker] Ubuntu:18.04ì—ì„œ Docker ì„¤ì¹˜í•˜ê¸°"},"fields":{"slug":"/Ubuntu-1804ì—ì„œ-Docker-ì„¤ì¹˜í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[NGINX] Ubuntu:18.04ì—ì„œ letsencrypt HTTPS í™˜ê²½ êµ¬ì¶•í•˜ê¸°"},"fields":{"slug":"/Ubuntu-1804ì—ì„œ-letsencrypt-HTTPS-í™˜ê²½êµ¬ì¶•/"}},{"frontmatter":{"lang":"ko","title":"[Node.js] nodemailer ì‚¬ìš©í•˜ê¸°"},"fields":{"slug":"/Nodejs-nodemailer-ì‚¬ìš©í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Node.js] mysqlì„ async/awaitë¡œ ì²˜ë¦¬í•˜ê¸°"},"fields":{"slug":"/Nodejs-mysqlì„-async-awiatë¡œ-ì²˜ë¦¬í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Node.js] express cors ì‚¬ìš©í•˜ê¸°"},"fields":{"slug":"/Nodejs-express-cors-ì‚¬ìš©í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Node.js] express static folder ì§€ì •í•˜ê¸°"},"fields":{"slug":"/Nodejs-express-static-folder-ì§€ì •í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[JavaScript] Date ê°ì²´ ì‚¬ìš©í•˜ê¸°"},"fields":{"slug":"/JavaScript-Date-ê°ì²´-ì‚¬ìš©í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Docker] ReactJS Dockerizingí•˜ê¸°"},"fields":{"slug":"/React-Dockerizingí•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[React Native] ë°°ê²½ ì´ë¯¸ì§€ í¬ê¸° ìë™ìœ¼ë¡œ ë§ì¶”ê¸°"},"fields":{"slug":"/ReactNative-ë°°ê²½-ì´ë¯¸ì§€-í¬ê¸°-ìë™ìœ¼ë¡œ-ë§ì¶”ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[React Native] ì»¤ìŠ¤í…€ ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ ìŠ¤í¬ë¦° êµ¬í˜„í•˜ê¸°"},"fields":{"slug":"/ReactNative-ì»¤ìŠ¤í…€-ë¡œë”©-ì• ë‹ˆë©”ì´ì…˜-ìŠ¤í¬ë¦°-êµ¬í˜„í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Node.js] Socket.io ê°„ë‹¨í•œ ì±„íŒ… êµ¬í˜„í•˜ê¸°"},"fields":{"slug":"/Nodejs-socketio-ê°„ë‹¨í•œ-ì±„íŒ…-êµ¬í˜„í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Python] Ubuntu:18.04 ì—ì„œ jupyter notebook ì‚¬ìš©í•˜ê¸°"},"fields":{"slug":"/Python-Ubuntu1804ì—ì„œ-jupyter-notebook-ì‚¬ìš©í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Network] HTTP ìƒíƒœ(ì‘ë‹µ) ì½”ë“œ ì •ë¦¬í•˜ê¸°"},"fields":{"slug":"/HTTP-ìƒíƒœì½”ë“œ-ì •ë¦¬í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Network] SOAP ì •ë¦¬í•˜ê¸°"},"fields":{"slug":"/SOAP-ì •ë¦¬í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Node.js] slack ì—°ë™í•˜ê¸°(ì•Œë¦¼ë´‡ êµ¬í˜„)"},"fields":{"slug":"/Nodejs-slack-ì—°ë™í•˜ê¸°-ì•Œë¦¼ë´‡êµ¬í˜„/"}},{"frontmatter":{"lang":"ko","title":"[React Native] Dimensions.get('window')ì™€ Dimensions.get('screen')ì˜ ì°¨ì´ì "},"fields":{"slug":"/ReactNative-Dimensions-get-windowì™€-Dimentsions-get-screenì˜-ì°¨ì´ì /"}},{"frontmatter":{"lang":"ko","title":"[React Native] Bottom tab bar íŠ¹ì • í™”ë©´ì—ì„œ ì•ˆ ë³´ì´ê²Œ ì„¤ì •í•˜ê¸°"},"fields":{"slug":"/ReactNative-Bottom-tab-bar-íŠ¹ì •-í™”ë©´ì—ì„œ-ì•ˆ-ë³´ì´ê²Œ-ì„¤ì •í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[React Native] íŠ¹ì • í™”ë©´ì—ì„œ í™”ë©´ ê³ ì •í•˜ê¸°"},"fields":{"slug":"/ReactNative-íŠ¹ì •-í™”ë©´ì—ì„œ-í™”ë©´-ê³ ì •í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Node.js] PBKDF2 ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”í•˜ê¸°"},"fields":{"slug":"/Nodejs-PBKDF2-ë¹„ë°€ë²ˆí˜¸-ì•”í˜¸í™”í•˜ê¸°/"}},{"frontmatter":{"lang":"ko","title":"[Network] HTTPë€ ë¬´ì—‡ì¸ê°€"},"fields":{"slug":"/HTTPë€-ë¬´ì—‡ì¸ê°€/"}},{"frontmatter":{"lang":"ko","title":"[Network] URIì™€ URLì˜ ì°¨ì´ì "},"fields":{"slug":"/URIì™€-URLì˜-ì°¨ì´ì /"}},{"frontmatter":{"lang":"ko","title":"[Gatsby] document is not defined build error í•´ê²° ë°©ë²•"},"fields":{"slug":"/Gatsby-build-error-document-is-not-defined-í•´ê²°ë°©ë²•/"}},{"frontmatter":{"lang":"en","title":"[Gatsby] Troubleshooting document is not defined build error"},"fields":{"slug":"/Troubleshooting-Gatsby-build-error-document-is-not-defined/"}},{"frontmatter":{"lang":"ko","title":"[Typescript] mongoose methods, statics ì‚¬ìš©í•˜ê¸°"},"fields":{"slug":"/Typescript-mongodb-method-statics-ì‚¬ìš©í•˜ê¸°/"}},{"frontmatter":{"lang":"en","title":"[Typescript] mongoose methods, statics"},"fields":{"slug":"/Typescript-mongoose-methods-statics/"}},{"frontmatter":{"lang":"en","title":"[Network] Differences between URI and URL"},"fields":{"slug":"/Difference-between-URI-and-URL/"}},{"frontmatter":{"lang":"en","title":"[Docker] Synchronize docker-compose (node.js, mysql) execution order"},"fields":{"slug":"/Synchronize-docker-compose-nodejs-mysql-execution-order/"}},{"frontmatter":{"lang":"en","title":"[JavaScript] Get out of Callback hell"},"fields":{"slug":"/JavaScript-Get-out-of-Callback-hell/"}},{"frontmatter":{"lang":"en","title":"[Docker] Jenkins in Docker(Ubuntu18.04)"},"fields":{"slug":"/jenkins-in-docker-ubuntu/"}},{"frontmatter":{"lang":"en","title":"[Go] Using Struct as Class"},"fields":{"slug":"/Using-struct-as-class-in-golang/"}},{"frontmatter":{"lang":"en","title":"Install Opencv 4 on Raspberry Pi 4"},"fields":{"slug":"/Install-Opencv-4-on-Raspberry-Pi-4/"}},{"frontmatter":{"lang":"en","title":"[Python] Manage simple Anaconda virtual environmentsê¸°"},"fields":{"slug":"/Python-Manage-simple-Anaconda-virtual-environments/"}},{"frontmatter":{"lang":"en","title":"[Python] Implementing TCP image socket(Server, Client)"},"fields":{"slug":"/Python-Implementing TCP image socket-Server-Client/"}},{"frontmatter":{"lang":"en","title":"[Node.js] Use express"},"fields":{"slug":"/Nodejs-use-expressjs/"}},{"frontmatter":{"lang":"ko","title":"ìŠ¤íƒ€íŠ¸ì—… ì½”ë”© í˜ìŠ¤í‹°ë²Œ 2021 1ì°¨, 2ì°¨ í›„ê¸°"},"fields":{"slug":"/scope-2021/"}},{"frontmatter":{"lang":"ko","title":"[React Native] ë‹¤ë¥¸ ì•±(play store, instagram ë“±) ì—´ê¸°"},"fields":{"slug":"/ReactNative-link-other-app/"}},{"frontmatter":{"lang":"ko","title":"[React Native] Firebase Analytics(@react-native-firebase/analytics) ì ìš©í•˜ê¸°"},"fields":{"slug":"/ReactNative-Firebase-Analytics-Setting/"}},{"frontmatter":{"lang":"ko","title":"[React Native] Facebook SDK(react-native-fbsdk) ì ìš©í•˜ê¸°"},"fields":{"slug":"/ReactNative-facebook-sdk-setting/"}},{"frontmatter":{"lang":"ko","title":"[React Native] ld: symbol(s) not found for architecture x86_64 í•´ê²°ë°©ë²•"},"fields":{"slug":"/ReactNative-ld-symbols-not-found-error/"}},{"frontmatter":{"lang":"ko","title":"[Android] Debug ë²„ì „ìœ¼ë¡œëŠ” ì‹¤í–‰ë˜ëŠ” ë° Release Crash ë‚˜ëŠ” ê²½ìš°"},"fields":{"slug":"/Android-release-error/"}},{"frontmatter":{"lang":"ko","title":"[React Native] CodePushë¥¼ ì´ìš©í•œ ì•± ì—…ë°ì´íŠ¸"},"fields":{"slug":"/ReactNative-codepush/"}},{"frontmatter":{"lang":"en","title":"[React Native] Troubleshooting ld: symbol(s) not found for architecture x86_64"},"fields":{"slug":"/ReactNative-ld-symbols-not-found-error-en/"}},{"frontmatter":{"lang":"en","title":"[Android] Runs with Debug version, but fails with Release version"},"fields":{"slug":"/Android-release-error-en/"}},{"frontmatter":{"lang":"ko","title":"[React Native] Kakao Linkë¥¼ ì‚¬ìš©í•´ì„œ Deep linkë¥¼ êµ¬í˜„í•´ë³´ì."},"fields":{"slug":"/ReactNative-kakao-deep-link/"}},{"frontmatter":{"lang":"ko","title":"[React Native] @react-native-firebase ì ìš©í•˜ê¸° (pod install ì—ëŸ¬ í•´ê²°)"},"fields":{"slug":"/ReactNative-Firebase-2023-05-25/"}},{"frontmatter":{"lang":"en","title":"[React Native] Install @react-native-firebase (solve pod install issue)"},"fields":{"slug":"/ReactNative-Firebase-2023-05-25-en/"}},{"frontmatter":{"lang":"en","title":"[React Native] Solving realm one-to-many relationship issue"},"fields":{"slug":"/reactnative-realm-one-to-many-relationship-2023-05-26-en/"}},{"frontmatter":{"lang":"ko","title":"[React Native] realm one-to-many relationship ì ìš©í•˜ê¸°"},"fields":{"slug":"/reactnative-realm-one-to-many-relationship-2023-05-26/"}}]}},"pageContext":{"slug":"/Typescript-mongoose-methods-statics/","series":"none"}},"staticQueryHashes":["2083168511","3061319093","3557473807","356676075"],"slicesMap":{}}