{"componentChunkName":"component---src-components-post-post-page-tsx","path":"/Nodejs-JWT-ì‚¬ìš©í•˜ê¸°/","result":{"data":{"markdownRemark":{"html":"<h1 id=\"1-ì„œë¡ \" style=\"position:relative;\"><a href=\"#1-%EC%84%9C%EB%A1%A0\" aria-label=\"1 ì„œë¡  permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. ì„œë¡ </h1>\n<p>ì§€ë‚œ í¬ìŠ¤íŒ…ì—ì„œëŠ” JWT ê¸°ë°˜ ì¸ì¦ ë°©ì‹ì— ëŒ€í•´ ì•Œì•„ë´¤ë‹¤. ì´ë²ˆì—” Node.jsë¡œ JWTë¥¼ ì§ì ‘ êµ¬í˜„í•´ë³´ë„ë¡ í•˜ì. êµ¬í˜„ ë°©ë²•ì€ ì–´ë µì§€ ì•Šìœ¼ë‚˜ ì´ í¬ìŠ¤íŒ…ì—ì„œëŠ” jsonwebtokenì„ ì‚¬ìš©í•œ í† í°ì˜ ë°œê¸‰ê³¼ ë§Œë£Œ ê¸°ê°„ ì„¤ì • ë“± ê¸°ë³¸ ê°œë…ì— ëŒ€í•œ êµ¬í˜„ë§Œ í•˜ë„ë¡ í•˜ê² ë‹¤. ìš´ì˜í•˜ë ¤ëŠ” ì„œë¹„ìŠ¤ë§ˆë‹¤ JWTë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë‚˜ ë©”ëª¨ë¦¬ ì ì¬ ì—¬ë¶€ ë“±ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ìœ„ì˜ ì¸ì¦ ë°©ì‹ ì •ë¦¬í•˜ê¸°ì—ì„œ JWT ê¸°ë°˜ ì¸ì¦ ë°©ì‹ì˜ ì´ë¡ ì  ê°œë…ì„ ë³´ê³  í•„ìš”í•œ ë¶€ë¶„ì„ ìˆ˜ì •í•˜ì—¬ êµ¬í˜„í•´ë³´ê¸¸ ë°”ë€ë‹¤.</p>\n<h1 id=\"2-í™˜ê²½-ì„¤ì •\" style=\"position:relative;\"><a href=\"#2-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95\" aria-label=\"2 í™˜ê²½ ì„¤ì • permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. í™˜ê²½ ì„¤ì •</h1>\n<p>ìš°ì„ , ì‹¤ìŠµì„ ì§„í–‰í•  í´ë”ë¥¼ ìƒì„±í•˜ê³  í•„ìš”í•œ ëª¨ë“ˆë“¤ì„ ëª¨ë‘ ì„¤ì¹˜í•˜ë„ë¡ í•˜ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># í´ë” ìƒì„± ë° ì—´ê¸°</span>\n<span class=\"token function\">mkdir</span> jwt-practice\n<span class=\"token builtin class-name\">cd</span> jwt-practice\n\n<span class=\"token comment\"># package.json ìƒì„±</span>\n<span class=\"token function\">npm</span> init -y\n\n<span class=\"token comment\"># í•„ìš”í•œ ëª¨ë“ˆ ì„¤ì¹˜</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> http express body-parser jsonwebtoken dotenv</code></pre></div>\n<h1 id=\"3-í´ë”-êµ¬ì¡°\" style=\"position:relative;\"><a href=\"#3-%ED%8F%B4%EB%8D%94-%EA%B5%AC%EC%A1%B0\" aria-label=\"3 í´ë” êµ¬ì¡° permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. í´ë” êµ¬ì¡°</h1>\n<p>í´ë” êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ì´ access tokenê³¼ refresh tokenì˜ secret keyë¥¼ ì €ì¥í•  í™˜ê²½ ë³€ìˆ˜ íŒŒì¼(.env)ê³¼ ì‹¤ì œ êµ¬í˜„í•  jwt.js íŒŒì¼ë¡œ êµ¬ì„±ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ğŸ“¦jwt-practice\n â”£ ğŸ“‚node_modules\n â”£ ğŸ“œ.env\n â”£ ğŸ“œjwt.js\n â”£ ğŸ“œpackage-lock.json\n â”— ğŸ“œpackage.json</code></pre></div>\n<h1 id=\"4-env\" style=\"position:relative;\"><a href=\"#4-env\" aria-label=\"4 env permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. .env</h1>\n<p>í™˜ê²½ ë³€ìˆ˜ë¥¼ ì €ì¥í•  íŒŒì¼ë¡œì¨ access tokenê³¼ refresh tokenì˜ secret keyë¥¼ ì €ì¥í•  íŒŒì¼ì´ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ secret keyëŠ” ì ˆëŒ€ë¡œ ì™¸ë¶€ë¡œ ìœ ì¶œë˜ì„œëŠ” ì•ˆ ë˜ë¯€ë¡œ ë³´ì•ˆì„ ì² ì €íˆ í•´ì•¼ í•œë‹¤. ì•„ë˜ì˜ secret keyëŠ” ìƒ˜í”Œë¡œ ë§Œë“  ëœë¤ í•œ í‚¤ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"env\"><pre class=\"language-env\"><code class=\"language-env\">ACCESS_TOKEN_SECRET=d7d34917fbd11fdd89357decfb506b5e563e418bf7b136d30436dfa0dddbd4a6e318099c8e4918b87fd8e47e23196c441a5c892a6895d6061e27f89ed1ba19d6\nREFRESH_TOKEN_SECRET=3a13ce20d9e44269e1a01f31e6cb67b6f200450ecc7cf09c3d0a199e512037422145d7727fa874e128bfbbc198b06e99ae1f6e24b57e8cd598102b61bffa8e69</code></pre></div>\n<h1 id=\"5-jwtjs\" style=\"position:relative;\"><a href=\"#5-jwtjs\" aria-label=\"5 jwtjs permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. jwt.js</h1>\n<p>ì•„ë˜ì˜ ì½”ë“œëŠ” ì„ì˜ë¡œ ë§Œë“  usersë¼ëŠ” id, pw ë°°ì—´ì„ ì§€ì •í•˜ê³ (ì‹¤ì œë¡œëŠ” pwëŠ” ë°˜ë“œì‹œ ì•”í˜¸í™”í•˜ì—¬ DBì— ì €ì¥í•´ì•¼ í•œë‹¤.), ë¡œê·¸ì¸ ì‹œ í•´ë‹¹ id, pwì™€ ì¼ì¹˜í•˜ëŠ” ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ access tokenê³¼ refresh tokenì„ ë°œê¸‰í•˜ëŠ” ì½”ë“œì´ë‹¤. ì´ë ‡ê²Œ ë°œê¸‰ëœ tokenì€ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ìš”ì²­ì„ ë³´ë‚¼ ë•Œë§ˆë‹¤ headersì— authorization: 'bearer ' + accessToken ë°©ì‹ìœ¼ë¡œ ë„˜ê²¨ë°›ì•„ í•´ë‹¹ ìš”ì²­ì˜ tokenì´ ìœ íš¨í•œ ì§€ ê²€ì‚¬í•œë‹¤. ìì„¸í•œ ì„¤ëª…ì€ ì•„ë˜ì—ì„œ ì˜ˆì‹œë¥¼ ë³´ë©° ì„¤ëª…í•˜ë„ë¡ í•˜ê² ë‹¤.\nì´ ì˜ˆì œì—ì„œëŠ” /user ìš”ì²­ì—ì„œ tokenì´ ìœ íš¨í•  ì‹œ idì™€ pwë¥¼ ë„˜ê²¨ì£¼ëŠ” ì‘ë‹µì„ ë³´ëƒˆëŠ” ë° ì‹¤ì œë¡œëŠ” pwë¥¼ ë„˜ê²¨ì£¼ëŠ” ì¼ì€ ê²°ì½” ì—†ìœ¼ë‹ˆ ìœ ì˜í•˜ê¸° ë°”ë€ë‹¤. ê·¸ì € ì˜ˆì‹œì¼ ë¿ì´ë€ ê±¸ ì´í•´í•˜ê³  ë„˜ì–´ê°€ê¸¸ ë°”ë€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// jwt.js</span>\n\n<span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dotenv\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">config</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> http <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> express <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"express\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> jwt <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"jsonwebtoken\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> bodyParser <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"body-parser\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> request <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"../session-practice/db\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">createServer</span><span class=\"token punctuation\">(</span>app<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">PORT</span> <span class=\"token operator\">=</span> <span class=\"token number\">8080</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>bodyParser<span class=\"token punctuation\">.</span><span class=\"token function\">urlencoded</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> extended<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>bodyParser<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// ì„ì‹œ id, pw ë°°ì—´</span>\n<span class=\"token keyword\">const</span> users <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">,</span> pw<span class=\"token operator\">:</span> <span class=\"token string\">\"world\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token string\">\"good\"</span><span class=\"token punctuation\">,</span> pw<span class=\"token operator\">:</span> <span class=\"token string\">\"bye\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\">// ë¡œê·¸ì¸ id, pw í™•ì¸</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">login</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">id<span class=\"token punctuation\">,</span> pw</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> len <span class=\"token operator\">=</span> users<span class=\"token punctuation\">.</span>length\n\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>id <span class=\"token operator\">===</span> users<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">&amp;&amp;</span> pw <span class=\"token operator\">===</span> users<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>pw<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> id\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// access tokenì„ secret key ê¸°ë°˜ìœ¼ë¡œ ìƒì„±</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">generateAccessToken</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">id</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> jwt<span class=\"token punctuation\">.</span><span class=\"token function\">sign</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">ACCESS_TOKEN_SECRET</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        expiresIn<span class=\"token operator\">:</span> <span class=\"token string\">\"15m\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// refersh tokenì„ secret key  ê¸°ë°˜ìœ¼ë¡œ ìƒì„±</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">generateRefreshToken</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">id</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> jwt<span class=\"token punctuation\">.</span><span class=\"token function\">sign</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">REFRESH_TOKEN_SECRET</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        expiresIn<span class=\"token operator\">:</span> <span class=\"token string\">\"180 days\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// login ìš”ì²­ ë° ì„±ê³µì‹œ access token, refresh token ë°œê¸‰</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/login\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> id <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>id\n    <span class=\"token keyword\">let</span> pw <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>pw\n\n    <span class=\"token keyword\">let</span> user <span class=\"token operator\">=</span> <span class=\"token function\">login</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> pw<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user <span class=\"token operator\">===</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">sendStatus</span><span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">let</span> accessToken <span class=\"token operator\">=</span> <span class=\"token function\">generateAccessToken</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">let</span> refreshToken <span class=\"token operator\">=</span> <span class=\"token function\">generateRefreshToken</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span>\n\n    res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> accessToken<span class=\"token punctuation\">,</span> refreshToken <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// access tokenì˜ ìœ íš¨ì„± ê²€ì‚¬</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">authenticateAccessToken</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> next</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> authHeader <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">[</span><span class=\"token string\">\"authorization\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">let</span> token <span class=\"token operator\">=</span> authHeader <span class=\"token operator\">&amp;&amp;</span> authHeader<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>token<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"wrong token format or token is not sended\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">sendStatus</span><span class=\"token punctuation\">(</span><span class=\"token number\">400</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    jwt<span class=\"token punctuation\">.</span><span class=\"token function\">verify</span><span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">,</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">ACCESS_TOKEN_SECRET</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error<span class=\"token punctuation\">,</span> user</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">sendStatus</span><span class=\"token punctuation\">(</span><span class=\"token number\">403</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n\n        req<span class=\"token punctuation\">.</span>user <span class=\"token operator\">=</span> user\n        <span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// access tokenì„ refresh token ê¸°ë°˜ìœ¼ë¡œ ì¬ë°œê¸‰</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/refresh\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> refreshToken <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>refreshToken\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>refreshToken<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">sendStatus</span><span class=\"token punctuation\">(</span><span class=\"token number\">401</span><span class=\"token punctuation\">)</span>\n\n    jwt<span class=\"token punctuation\">.</span><span class=\"token function\">verify</span><span class=\"token punctuation\">(</span>\n        refreshToken<span class=\"token punctuation\">,</span>\n        process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">REFRESH_TOKEN_SECRET</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span><span class=\"token parameter\">error<span class=\"token punctuation\">,</span> user</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">sendStatus</span><span class=\"token punctuation\">(</span><span class=\"token number\">403</span><span class=\"token punctuation\">)</span>\n\n            <span class=\"token keyword\">const</span> accessToken <span class=\"token operator\">=</span> <span class=\"token function\">generateAccessToken</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span>\n\n            res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> accessToken <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// access token ìœ íš¨ì„± í™•ì¸ì„ ìœ„í•œ ì˜ˆì‹œ ìš”ì²­</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/user\"</span><span class=\"token punctuation\">,</span> authenticateAccessToken<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">)</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span>users<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">user</span> <span class=\"token operator\">=></span> user<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> req<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\nserver<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PORT</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Server running on </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">PORT</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h1 id=\"6-ì‹¤í–‰-ì˜ˆì‹œ\" style=\"position:relative;\"><a href=\"#6-%EC%8B%A4%ED%96%89-%EC%98%88%EC%8B%9C\" aria-label=\"6 ì‹¤í–‰ ì˜ˆì‹œ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. ì‹¤í–‰ ì˜ˆì‹œ</h1>\n<p>ì´ í¬ìŠ¤íŒ…ì—ì„œëŠ” ê²€ì‚¬ ë°©ì‹ìœ¼ë¡œ postmanì„ ì‚¬ìš©í–ˆë‹¤. ì•„ë˜ì™€ ê°™ì´ ì¡´ì¬í•˜ëŠ” id, pwë¥¼ ì…ë ¥í•˜ë©´ access tokenê³¼ refresh tokenì„ ë°œê¸‰ë°›ê²Œ ëœë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1046px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/30a2b52e711bfd1e844aae63ce7ddbfe/8b70b/jwt1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 87.78625954198472%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACX0lEQVQ4y61UTW/TQBD1b+TeK40gogmkEqhARbnBiV/Av+itUhonDWo5IA4ckEDihKC2119re3dtP944dUlLgwAx0tOs33zs7OysvXdHh5j7PvyTEyyWS/iLBWbzeQdZCzenTezyPZ3NMKX/YuHjbDnH8czH/PQt/NMzHJP3jp7fx8vdMfZGY+yPx3g0vIvJYIBd4uFwiGeTCZ6MRh0e7+yQ38aD7QH2hwO8mtzB3r0dPN26hYPbWzigr6eCCC7N0KQJkQJ5DiQh2ugcdRigVQFsrGCiCFYptFlK0J9+eRCiCALg83vgywe4KIRXxCFsVcLUNZq2haXWhYaKYxRlicpUKIjSWlSEcY6oOz/jLPKywkcFfFINa8ngGQaVRQErzsagZkDKSmMVQ7GiMAwREamKyCdIkwQZ7Ql1oXOoVOPFVOP1mww2j+FZJtBaI+UxMqLmzoKqqlBJhZVsqKFTqbggx2rJOxYgfk1TYyUNWlPCa3lMw+CI55cKRQL2pV83TdNpwwRyinXOXnDSqppcwxZ4YhQ4Vto7ypHFUTbrIXapaJ3rT7POeX2SXoRcX/8tLhP+acDvRKxXEq4n3hTQ27tWtT/RXuT5pUKRTIVIOIcphzgjZDwsZ7Gx5tLX8gJc4+Bq12k4A5MlNyeUG9V8CQlnMVQpApXhPOJsJjkH3aEkKlOvtF3pkt/G2BsSdlo2NIjDGN9Vjq/hCt8izquukOQ9yivf1rprCddut+tL39uu8h6bRXJ1CTfe5r+MDf6zeDmbL29ZIG+0/0n0WrjrkJckcSVvP+Y0KP7aNKdB+B9w1FgwxtmUtAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jwt1\"\n        title=\"jwt1\"\n        src=\"/static/30a2b52e711bfd1e844aae63ce7ddbfe/1c1a4/jwt1.png\"\n        srcset=\"/static/30a2b52e711bfd1e844aae63ce7ddbfe/8ff13/jwt1.png 262w,\n/static/30a2b52e711bfd1e844aae63ce7ddbfe/3e286/jwt1.png 523w,\n/static/30a2b52e711bfd1e844aae63ce7ddbfe/1c1a4/jwt1.png 1046w,\n/static/30a2b52e711bfd1e844aae63ce7ddbfe/8b70b/jwt1.png 1266w\"\n        sizes=\"(max-width: 1046px) 100vw, 1046px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>ë°œê¸‰ë°›ì€ access tokenì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ë¥¸ ìš”ì²­ì„ ë³´ë‚¼ ë•Œ headersì— authorization: 'bearer ' + access tokenë¥¼ ì²¨ë¶€í•œë‹¤. ë§Œì•½ tokenì´ ìœ íš¨í•˜ë‹¤ë©´ ìœ„ì—ì„œ ì„¤ëª…í•œ ëŒ€ë¡œ id, pwë¥¼ ë°œê¸‰ë°›ê²Œ ëœë‹¤. (ì˜ˆì‹œì¼ ë¿ ì‹¤ì œë¡œ pwë¥¼ ì£¼ëŠ” ê²½ìš°ëŠ” ê²°ì½” ì—†ë‹¤.)</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1046px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7668ad132d1220b55b6c38b98e0c841b/8b70b/jwt2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 87.78625954198472%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACSUlEQVQ4y61UTW8TMRDd38i9VxJBBQmkB1RKRTn2xB/gZ3CrlGY3jdpyQBw4IIHEDdrNfttee71+zHi7URPaVEhYeRrveObNjGfi4PPJR0RhiPDsDPPFAuF8jlkUefCedRGdMfh7OpthSvbzeYjLRYTTWYjo4hPCi0uckj44efcCx3tj7I/GOByP8Wr3KSaDAfaGQ79/O5nggPQH4xFej0aYDAd4ORjicHeI95Mn2H/2HG92HuHo8Q6OyDZI4wRNWaItckIBVBVcmcHmGUyWoc1S2OQaTXwFu7wCSO/YnuyqeAkZx8CPL8DPr2iSJQKZLWFqBW0tWudgSFZSICEyoRSUMaiN9jCNITTQjfV2mr4rVeNbCnxPWsqlRKDZSUoYctRaoyGHsiiREWGapoh//0ISX6OkrPI89yioEpZSVEgLgeOpxIfzCqbKEHBEIQQKcmAnS5GZXFKguq5hlYA19Urftu0K9kYCjn4GTtcIHJWpyTGh+jlDXpwdB+Ezh27xmaRKWHIghqKgWhsfzNKVONsg6KNxqV00eAPee0LXyd6u32/qODDLoCfpV0fS5bXKz2Hr8vY3WBH2RA9hOzHWCTczvC8bXy5dRbsWrOP5K0NeZbr0jcmLbky4+0pJNNSI/u40z6U13WxSM1qaBF3mdxPW1EnushCSOqtoXLTvriVnbMmex+pOQtu6bu5oJJp2ncDdc9/Y7PLtmevL2ry3h5q1Itxm8K8I8J9XUNEz1DVA+L9S/0j0knWb4MeB/RQ9Dv4RSRKIsvD6P2m1WwQYKUj6AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jwt2\"\n        title=\"jwt2\"\n        src=\"/static/7668ad132d1220b55b6c38b98e0c841b/1c1a4/jwt2.png\"\n        srcset=\"/static/7668ad132d1220b55b6c38b98e0c841b/8ff13/jwt2.png 262w,\n/static/7668ad132d1220b55b6c38b98e0c841b/3e286/jwt2.png 523w,\n/static/7668ad132d1220b55b6c38b98e0c841b/1c1a4/jwt2.png 1046w,\n/static/7668ad132d1220b55b6c38b98e0c841b/8b70b/jwt2.png 1266w\"\n        sizes=\"(max-width: 1046px) 100vw, 1046px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>ë§Œì•½ ë§Œë£Œ ê¸°ê°„ì´ ì§€ë‚œ ê²½ìš°ëŠ” ì•„ë˜ì™€ ê°™ì´ ì ‘ê·¼ ê¸ˆì§€ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. ì´ëŸ° ê²½ìš° access tokenì„ refresh í•´ì•¼ í•˜ëŠ” ë° ì´ë•Œ ì‚¬ìš©í•˜ëŠ” í† í°ì´ ë°”ë¡œ refresh tokenì´ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1046px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0d3769d3a46f8778e319e1ef0a5c3c24/8b70b/jwt3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 87.78625954198472%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACJ0lEQVQ4y61US2/TQBD2b+TeK40gghjSQ1VKRTn2xB/gZ3CrFPxIRMsBceCABBI3aB2/1q99fsxunJCUJEioI38ee/bbmfHMeL1Pl+8QhgGCOEY8myGIIrwPQ0wI9tnaoukUUTxFSJxJELi1OApxPSNuECK6+ojw6trt8y5fP8PFkY+TkY8z38fxcIjxYIAjwvHwMV6Nxzgl+6k/wovRiNYO8fxwgLPhAG/Gj3Dy5CleHjzA+cMDnBPXy5IUsmTQZUEogaqCYTlUkUPkOXSeQaW3kMkN1PwGILthxCdelczRJAnw/TPw4wtkOofX5ilE14IrBWUMBOmqqZGSo7pt0QqBTnAHIQVBgkvleJzeq7bD1wz4lmrKhcGzt442KiJq65TAKNOcssuyDMmvn0iTWzDKqigKh5LWrW7qCllZ42LS4O2HCqLK4cneiaBMtNawwjlHS0G6roNqayjRbXCWUL0GDF0ChnfwjDa4Kza7uq5hqATLVRukaRqnbSALG5Rz4YIpKolREt4yK7fZLLYvM1jYFnrdtq5XvN7HhsO7jlf5/f0RG+L4PXY63IX9jrE/w13Z2Lpro1dc3ZfGytYasmyOnEYmpyG248FYRQ1oIKmLliNpxDrJaQ772aRmaJoEzortDjmNR0GztugiX0HR5n1iA2395H81YF99/6sp++zen3m7H3i4Z6HDoXI/voV9to1Yx/pvtoQ9HByXDhY7DRkdWzUrnf03I1pbo9ydppgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jwt3\"\n        title=\"jwt3\"\n        src=\"/static/0d3769d3a46f8778e319e1ef0a5c3c24/1c1a4/jwt3.png\"\n        srcset=\"/static/0d3769d3a46f8778e319e1ef0a5c3c24/8ff13/jwt3.png 262w,\n/static/0d3769d3a46f8778e319e1ef0a5c3c24/3e286/jwt3.png 523w,\n/static/0d3769d3a46f8778e319e1ef0a5c3c24/1c1a4/jwt3.png 1046w,\n/static/0d3769d3a46f8778e319e1ef0a5c3c24/8b70b/jwt3.png 1266w\"\n        sizes=\"(max-width: 1046px) 100vw, 1046px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>access tokenì„ ì¬ë°œê¸‰ë°›ì„ ë•ŒëŠ” refresh tokenì„ ì„œë²„ë¡œ ë³´ë‚´ì•¼ í•œë‹¤.(refresh tokenì„ ê¸°ë°˜ìœ¼ë¡œ access tokenì„ ë°œê¸‰ë°›ê¸° ë•Œë¬¸ì—) ë§Œì•½ refresh token ë˜í•œ ë§Œë£Œëœ ê²½ìš°ëŠ” ì²˜ìŒ ì§€ì •í•œ ìë™ ë¡œê·¸ì¸ ê¸°ê°„ì´ ì¢…ë£Œëœ ê²ƒì´ë¯€ë¡œ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ redirect ì‹œí‚¤ë©´ ëœë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1046px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0097b46c35de2af25d4c6a8dce068a31/8b70b/jwt4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 87.78625954198472%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACTElEQVQ4y61UTW/UMBDNb+TeK11gBV3YSqACFeUGN/5A/wW3Sm2z21YtB8SBAxJIHJGSOI7zZTvJ4022WaW0KkVipKexx+M34/HYweeDj1iEIcKTEyxPTxEulzheLHBEyPjk7Ky3CxacHx4fEyGWixAXp/TjeHH+CeH5BY7IExy8fYr32zPsbM2wO5vhxXSK+eYmticTPJ8+wpv5HK+2tnq8JMT+bPIAu9MJPswfYufxE7zeuIe9+xvYo2+gogQ+M2gzTWRAngMmRaNT+FSgYJWCI7rkF9ok6iHreRSjiiLgxxfg51f4JEZQpjFcXcE2Ddqug6POixwJiYqqQlnXva6dh/eO2sISrvGwnOdVjW8K+K5a5mIQWDpXZQnnHKy1aLxHxkxTlUIxqziOkcQRtEqgddavGUJrjZIEKivw7rDA/pmBy1MEjgRFUdDRwBiDhhl62mpmVktmtQQsUGQpqqpc2Qnxadu2x0padLZC0PGYlg4Jzy8ZiqSsXc5ainMnoM3yBBJYyKo+0ErLHilVI+QsQTBEGSKKDGMJNmDwu92GFeFYZOHP8dh2k4yDrAnHxttwOzGuEo6Jb9wwWu+P27V9/UR3lzzXMhQxKobmxWSGLUKU7Etra7TOrlORNvPsxR5tg86zP42+mbDmzckta6URK4M4NYioNXvOuobN3VzTPbjvKuFl9P5I0o98HcOGyq60b1o436wxngvXP9Xwb7K+5bve8F0Q4D9LIMWXJyWQpzR8EqLHEJusC+RzkH0VP4eUH4jisy3M6uP4Dct1WZFYLOxiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jwt4\"\n        title=\"jwt4\"\n        src=\"/static/0097b46c35de2af25d4c6a8dce068a31/1c1a4/jwt4.png\"\n        srcset=\"/static/0097b46c35de2af25d4c6a8dce068a31/8ff13/jwt4.png 262w,\n/static/0097b46c35de2af25d4c6a8dce068a31/3e286/jwt4.png 523w,\n/static/0097b46c35de2af25d4c6a8dce068a31/1c1a4/jwt4.png 1046w,\n/static/0097b46c35de2af25d4c6a8dce068a31/8b70b/jwt4.png 1266w\"\n        sizes=\"(max-width: 1046px) 100vw, 1046px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h1 id=\"ì°¸ê³ \" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"ì°¸ê³  permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[ì°¸ê³ ]</h1>\n<ul>\n<li><a href=\"https://www.npmjs.com/package/jsonwebtoken\">https://www.npmjs.com/package/jsonwebtoken</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=mbsmsi7l3r4\">https://www.youtube.com/watch?v=mbsmsi7l3r4</a></li>\n</ul>","id":"d416a9a6-c784-5b95-b57d-8a8d67f3e4f5","tableOfContents":"<ul>\n<li><a href=\"#1-%EC%84%9C%EB%A1%A0\">1. ì„œë¡ </a></li>\n<li><a href=\"#2-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95\">2. í™˜ê²½ ì„¤ì •</a></li>\n<li><a href=\"#3-%ED%8F%B4%EB%8D%94-%EA%B5%AC%EC%A1%B0\">3. í´ë” êµ¬ì¡°</a></li>\n<li><a href=\"#4-env\">4. .env</a></li>\n<li><a href=\"#5-jwtjs\">5. jwt.js</a></li>\n<li><a href=\"#6-%EC%8B%A4%ED%96%89-%EC%98%88%EC%8B%9C\">6. ì‹¤í–‰ ì˜ˆì‹œ</a></li>\n<li><a href=\"#%EC%B0%B8%EA%B3%A0\">ì°¸ê³ </a></li>\n</ul>","frontmatter":{"author":"millo","description":"nodejsì—ì„œ JWTë¥¼ ì‚¬ìš©í•œ ì¸ì¦ ë°©ì‹ì„ êµ¬í˜„í•´ë³´ì.","category":"nodejs","released_at":"2021-02-01","updated_at":null,"tags":["Authentication","nodejs","jsonwebtoken","JWT","JWT Auth"],"title":"[Node.js] JWT ì‚¬ìš©í•˜ê¸°","lang":"ko","series":"Authentication ë°©ì‹ ì •ë¦¬í•˜ê¸°","translation":null,"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAcOKAD//xAAYEAACAwAAAAAAAAAAAAAAAAACEgEgIf/aAAgBAQABBQIBaVyn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGBAAAgMAAAAAAAAAAAAAAAAAABEBIDH/2gAIAQEABj8C0biv/8QAGRAAAgMBAAAAAAAAAAAAAAAAESEAASDB/9oACAEBAAE/ISVIjOCOf//aAAwDAQACAAMAAAAQAA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAACAgMAAAAAAAAAAAAAAAABEQCRICFB/9oACAEBAAE/ENIjBA+qBnBsrH//2Q==","aspectRatio":1.6666666666666667,"src":"/static/f695947583c0c0242859d127bd9962e0/14b42/jwt.jpg","srcSet":"/static/f695947583c0c0242859d127bd9962e0/f836f/jwt.jpg 200w,\n/static/f695947583c0c0242859d127bd9962e0/2244e/jwt.jpg 400w,\n/static/f695947583c0c0242859d127bd9962e0/14b42/jwt.jpg 800w,\n/static/f695947583c0c0242859d127bd9962e0/a7715/jwt.jpg 1000w","sizes":"(max-width: 800px) 100vw, 800px"}}}},"fields":{"slug":"/Nodejs-JWT-ì‚¬ìš©í•˜ê¸°/"}},"site":{"siteMetadata":{"siteUrl":"https://millo-L.github.io"}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"title":"Session ê¸°ë°˜ ì¸ì¦ ë°©ì‹","lang":"ko"},"fields":{"slug":"/Session-ê¸°ë°˜-ì¸ì¦ë°©ì‹/"}}},{"node":{"frontmatter":{"title":"JWT ê¸°ë°˜ ì¸ì¦ ë°©ì‹","lang":"ko"},"fields":{"slug":"/JWT-ê¸°ë°˜-ì¸ì¦ë°©ì‹/"}}},{"node":{"frontmatter":{"title":"[Node.js] express session ì‚¬ìš©í•˜ê¸°","lang":"ko"},"fields":{"slug":"/Nodejs-express-session-ì‚¬ìš©í•˜ê¸°/"}}},{"node":{"frontmatter":{"title":"[Node.js] JWT ì‚¬ìš©í•˜ê¸°","lang":"ko"},"fields":{"slug":"/Nodejs-JWT-ì‚¬ìš©í•˜ê¸°/"}}},{"node":{"frontmatter":{"title":"[Node.js] passport session ì‚¬ìš©í•˜ê¸°","lang":"ko"},"fields":{"slug":"/Nodejs-passport-session-ì‚¬ìš©í•˜ê¸°/"}}},{"node":{"frontmatter":{"title":"OAuth 2.0 ê¸°ë°˜ ì¸ì¦ ë°©ì‹","lang":"ko"},"fields":{"slug":"/OAuth2-ê¸°ë°˜-ì¸ì¦ë°©ì‹/"}}},{"node":{"frontmatter":{"title":"[Node.js] passport Google OAuth 2.0 ë¡œê·¸ì¸ ì‚¬ìš©í•˜ê¸°","lang":"ko"},"fields":{"slug":"/Nodejs-passport-Google-OAuth-2-ë¡œê·¸ì¸-ì‚¬ìš©í•˜ê¸°/"}}}]}},"pageContext":{"slug":"/Nodejs-JWT-ì‚¬ìš©í•˜ê¸°/","series":"Authentication ë°©ì‹ ì •ë¦¬í•˜ê¸°"}},"staticQueryHashes":["1608878238","3469517283","764694655"]}